


let movielist = [];

movielist.push(new Movie("Nyckeln till frihet", 
                            "Frank Darabont", 
                            9.3, 
                            "Storyline: Chronicles the experiences of a formerly successful banker as a prisoner in the gloomy jailhouse of Shawshank after being found guilty of a crime he did not commit. The film portrays the man's unique way of dealing with his new, torturous life; along the way he befriends a number of fellow prisoners, most notably a wise long-term inmate named Red", 
                            "../Images/NyckelnTillFrihet.jpeg", 
                            1994, 
                            "Drama"));
movielist.push(new Movie("Gudfadern",
                            "Francis Ford Coppola", 
                            9.2, 
                            "Storyline: The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.",
                            "images/Gudfadern.jpeg",
                                1972,
                                "Crime"));
movielist.push(new Movie("Gudfadern del II",
                            "Francis Ford Coppola", 
                            9.0, 
                            "Storyline: The early life and career of Vito Corleone in 1920s New York City is portrayed, while his son, Michael, expands and tightens his grip on the family crime syndicate.",
                            "images/Gudfadern2.jpeg",
                                1974,
                                "Crime"));
movielist.push(new Movie("The Dark Knight",
                            "Christopher Nolan", 
                            9.0, 
                            "Storyline: When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological and physical tests of his ability to fight injustice.",
                            "images/The Dark Knight.jpeg",
                                2008,
                                "Action"));
movielist.push(new Movie("Pulp Fiction",
                            "Quentin Tarantino", 
                            8.9, 
                            "Storyline: The lives of two mob hitmen, a boxer, a gangster and his wife, and a pair of diner bandits intertwine in four tales of violence and redemption.",
                           " images/PulpFiction.jpeg",
                                1994,
                                "Crime"));
movielist.push(new Movie("Fight Club",
                            "David Fincher", 
                            8.8, 
                            "Storyline: An insomniac office worker and a devil-may-care soap maker form an underground fight club that evolves into much more.",
                           "images/FightClub.jpeg",
                                1999,
                                "Drama"));
movielist.push(new Movie("Forrest Gump",
                            "Robert Zemeckis", 
                            8.8, 
                            "Storyline: Forrest Gump is a simple man with a low I.Q. but good intentions. He is running through childhood with his best and only friend Jenny. His 'mama' teaches him the ways of life and leaves him to choose his destiny. Forrest joins the army for service in Vietnam, finding new friends called Dan and Bubba, he wins medals, creates a famous shrimp fishing fleet, inspires people to jog, starts a ping-pong craze, creates the smiley, writes bumper stickers and songs, donates to people and meets the president several times. However, this is all irrelevant to Forrest who can only think of his childhood sweetheart Jenny Curran, who has messed up her life. Although in the end all he wants to prove is that anyone can love anyone.",
                            "images/ForrestGump.jpeg",
                                1994,
                                "Drama"));
movielist.push(new Movie("Inception",
                            "Christopher Nolan", 
                            8.8, 
                            "Storyline: A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.",
                            "images/Inception.jpeg",
                                2010,
                                "Action"));

movielist.push(new Movie("The Lord of the Rings: The Fellowship of the Ring",
                            "Peter Jackson", 
                            8.8, 
                            "Storyline: A meek Hobbit from the Shire and eight companions set out on a journey to destroy the powerful One Ring and save Middle-earth from the Dark Lord Sauron.",
                            "images/Saganomringen.jpeg",
                                2001,
                                "Fantasy"));
movielist.push(new Movie("The Lord of the Rings: The Two Towers",
                            "Peter Jackson", 
                            8.7, 
                            "Storyline: While Frodo and Sam edge closer to Mordor with the help of the shifty Gollum, the divided fellowship makes a stand against Sauron's new ally, Saruman, and his hordes of Isengard.",
                            "images/saganomdetvåtornen.jpeg",
                                2002,
                                "Fantasy"));
movielist.push(new Movie("The Lord of the Rings: The Return of the King",
                            "Peter Jackson", 
                            8.9, 
                            "Storyline: The final confrontation between the forces of good and evil fighting for control of the future of Middle-earth. Frodo and Sam reach Mordor in their quest to destroy the One Ring, while Aragorn leads the forces of good against Sauron's evil army at the stone city of Minas Tirith.",
                            "images/saganomkonungensåterkomst.jpeg",
                                2003,
                                "Fantasy"));
movielist.push(new Movie("The Matrix",
                            "Lana Wachowski, Lilly Wachowski", 
                            8.7, 
                            "Storyline: A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.",
                            "images/Matrix.jpeg",
                                1999,
                                "Sci-Fi"));
movielist.push(new Movie("Matrix Reloaded",
                            "Lana Wachowski, Lilly Wachowski", 
                            7.2, 
                            "Storyline: In this second adventure, Neo and the rebel leaders estimate that they have 72 hours until Zion falls under siege to the Machine Army. Only a matter of hours separates the last human enclave on Earth from 250,000 Sentinels programmed to destroy mankind. But the citizens of Zion, emboldened by Morpheus conviction that the One will fulfill the Oracles Prophecy and end the war with the Machines, rest all manner of hope and expectation on Neo, who finds himself stalled by disturbing visions as he searches for a course of action.",
                            "images/MatrixReloaded.jpeg",
                                2003,
                                "Sci-Fi"));
movielist.push(new Movie("Matrix Revolutions",
                            "Lana Wachowski, Lilly Wachowski", 
                            6.8, 
                            "Storyline: Neo discovers that somehow he is able to use his powers in the real world too and that his mind can be freed from his body, as a result of which he finds himself trapped on a train station between the Matrix and the Real World. Meanwhile, Zion is preparing for the oncoming war with the machines with very little chances of survival. Neo's associates set out to free him from The Merovingian since it's believed that he is the One who will end the war between humans and the machines. What they do not know is that there is a threat from a third party, someone who has plans to destroy both the worlds.",
                            "images/MatrixRevolutions.jpeg",
                                2003,
                                "Sci-Fi"));
movielist.push(new Movie("Matrix Resurrections",
                            "Lana Wachowski, Lilly Wachowski", 
                            5.7, 
                            "Storyline: Return to a world of two realities: one, everyday life; the other, what lies behind it. To find out if his reality is a construct, to truly know himself, Mr. Anderson will have to choose to follow the white rabbit once more.",
                           "images/MatrixResurrections.jpeg",
                                2021,
                                "Sci-Fi"));
movielist.push(new Movie("Hobbit: En oväntad resa",
                            "Peter Jackson", 
                            7.8, 
                            "Storyline: A reluctant Hobbit, Bilbo Baggins, sets out to the Lonely Mountain with a spirited group of dwarves to reclaim their mountain home, and the gold within it from the dragon Smaug.",
                            "images/hobbitenoväntadresa.jpeg",
                                2012,
                                "Fantasy"));
movielist.push(new Movie("Hobbit: Smaugs ödemark",
                            "Peter Jackson", 
                            7.8, 
                            "Storyline: The dwarves, along with Bilbo Baggins and Gandalf the Grey, continue their quest to reclaim Erebor, their homeland, from Smaug. Bilbo Baggins is in possession of a mysterious and magical ring.",
                            "images/hobbitsmaugsödemark.jpeg",
                                2013,
                                "Fantasy"));    
movielist.push(new Movie("Hobbit: Femhäraslaget",
                            "Peter Jackson", 
                            7.4, 
                            "Storyline: Bilbo and company are forced to engage in a war against an array of combatants and keep the Lonely Mountain from falling into the hands of a rising darkness.",
                            "images/hobbitfemhärarsslaget.jpeg",
                                2014,
                                "Fantasy"));        
movielist.push(new Movie("Star Wars: Episod IV - Ett nytt hopp",
                            "George Lucas", 
                            8.6, 
                            "Storyline: Luke Skywalker joins forces with a Jedi Knight, a cocky pilot, a Wookiee and two droids to save the galaxy from the Empire's world-destroying battle station, while also attempting to rescue Princess Leia from the mysterious Darth Vader.",  
                            "images/StarWars.jpeg",
                                1977,
                                "Sci-Fi"));
movielist.push(new Movie("Star Wars: Episod V - Rymdimperiet slår tillbaka",
                            "Irvin Kershner", 
                            8.7, 
                            "Storyline: After the Rebels are brutally overpowered by the Empire on the ice planet Hoth, Luke Skywalker begins Jedi training with Yoda, while his friends are pursued by Darth Vader.",
                            "images/StarWarsTheEmpireStrikesBack.jpeg",
                                1980,
                                "Sci-Fi"));
movielist.push(new Movie("Star Wars: Episod VI - Jedins återkomst", 
                            "Richard Marquand", 
                            8.3, 
                            "Storyline: After a daring mission to rescue Han Solo from Jabba the Hutt, the Rebels dispatch to Endor to destroy the second Death Star. Meanwhile, Luke struggles to help Darth Vader back from the dark side without falling into the Emperor's trap.",
                            "images/StarWarsReturnOfTheJedi.jpeg",
                                1983,
                                "Sci-Fi"));


 const allButton = document.getElementById("allButton");
 const movies_grid = document.getElementById("movies_grid");
 const movies = document.getElementsByClassName("movie");

 function createMovieElement(movie) {
    const movieDiv = document.createElement("div");
    movieDiv.classList.add("movie");

    const image = document.createElement("img");
    image.src = movie.image;
    image.alt = movie.title;
    movieDiv.appendChild(image);

    const title = document.createElement("h4");
    title.textContent = movie.title;
    movieDiv.appendChild(title);

    return movieDiv;
}

 for (let i = 0; i < movielist.length; i++) {
     const movie = movielist[i];

     const movieElement = createMovieElement(movie);
     movies_grid.appendChild(movieElement);
 }
 
 function handleImageClick(event) {
    let itemClicked = event.target;
    let movieTitle = itemClicked.nextElementSibling.textContent;

    for (let i = 0; i < movielist.length; i++) {
        const movie = movielist[i];
        if (movieTitle === movie.title) {
            let movieToSend = JSON.stringify(movie);
            localStorage.setItem("movie", movieToSend);
            window.location.href = "moviepage.html";
        }
    }
}

const images = document.querySelectorAll("img");
images.forEach((img) => {
    img.addEventListener("click", handleImageClick);
});




allButton.addEventListener("click", function ()  {

    movies_grid.innerHTML = ""; 

    for (let i = 0; i < movielist.length; i++) {
        const movie = movielist[i];

        const movieElement = createMovieElement(movie);
        movies_grid.appendChild(movieElement);
    }
    const images = document.querySelectorAll("img");
    images.forEach((img) => {
    img.addEventListener("click", handleImageClick);
});

}

);

const crimeButton = document.getElementById("crimeButton");

crimeButton.addEventListener("click", function() {
    
    movies_grid.innerHTML = "";

        for (let i = 0; i < movielist.length; i++) {
            const movie = movielist[i];
            if (movie.genre === "Crime") 
            {
            
                const movieElement = createMovieElement(movie);
                movies_grid.appendChild(movieElement);
            }
        }
    const images = document.querySelectorAll("img");
    images.forEach((img) => {
    img.addEventListener("click", handleImageClick);
    });

}
);


const dramaButton = document.getElementById("dramaButton");

dramaButton.addEventListener("click", function() {
    
    movies_grid.innerHTML = "";

            for (let i = 0; i < movielist.length; i++) {
                const movie = movielist[i];
                if (movie.genre === "Drama") {
                    const movieElement = createMovieElement(movie);
                    movies_grid.appendChild(movieElement);
                }
            }
    const images = document.querySelectorAll("img");
    images.forEach((img) => {
    img.addEventListener("click", handleImageClick);
    });

}
);

const scifiButton = document.getElementById("scifiButton");

scifiButton.addEventListener("click", function() {
    
    movies_grid.innerHTML = "";

        for (let i = 0; i < movielist.length; i++) {
            const movie = movielist[i];
            if (movie.genre === "Sci-Fi") 
            {

                const movieElement = createMovieElement(movie);
                movies_grid.appendChild(movieElement);
            }
       
        }
    const images = document.querySelectorAll("img");
    images.forEach((img) => {
    img.addEventListener("click", handleImageClick);
    });

}
);

const fantasyButton = document.getElementById("fantasyButton");

fantasyButton.addEventListener("click", function() {
    
    movies_grid.innerHTML = "";

        for (let i = 0; i < movielist.length; i++) {
            const movie = movielist[i];
            if (movie.genre === "Fantasy") 
            {
                const movieElement = createMovieElement(movie);
                movies_grid.appendChild(movieElement);
            }
        }   
    const images = document.querySelectorAll("img");
    images.forEach((img) => {
    img.addEventListener("click", handleImageClick);
    });


}
);
const addButton = document.getElementById("AddButton");

addButton.addEventListener("click", function() {
    window.location.href = "addmovie.html";
});





 
